import require$$0 from 'tty';
import { isPackageExists } from 'local-pkg';

var picocolors = {exports: {}};

let tty = require$$0;

let isColorSupported =
	!("NO_COLOR" in process.env || process.argv.includes("--no-color")) &&
	("FORCE_COLOR" in process.env ||
		process.argv.includes("--color") ||
		process.platform === "win32" ||
		(tty.isatty(1) && process.env.TERM !== "dumb") ||
		"CI" in process.env);

let formatter =
	(open, close, replace = open) =>
	input => {
		let string = "" + input;
		let index = string.indexOf(close, open.length);
		return ~index
			? open + replaceClose(string, close, replace, index) + close
			: open + string + close
	};

let replaceClose = (string, close, replace, index) => {
	let start = string.substring(0, index) + replace;
	let end = string.substring(index + close.length);
	let nextIndex = end.indexOf(close);
	return ~nextIndex ? start + replaceClose(end, close, replace, nextIndex) : start + end
};

let createColors = (enabled = isColorSupported) => ({
	isColorSupported: enabled,
	reset: enabled ? s => `\x1b[0m${s}\x1b[0m` : String,
	bold: enabled ? formatter("\x1b[1m", "\x1b[22m", "\x1b[22m\x1b[1m") : String,
	dim: enabled ? formatter("\x1b[2m", "\x1b[22m", "\x1b[22m\x1b[2m") : String,
	italic: enabled ? formatter("\x1b[3m", "\x1b[23m") : String,
	underline: enabled ? formatter("\x1b[4m", "\x1b[24m") : String,
	inverse: enabled ? formatter("\x1b[7m", "\x1b[27m") : String,
	hidden: enabled ? formatter("\x1b[8m", "\x1b[28m") : String,
	strikethrough: enabled ? formatter("\x1b[9m", "\x1b[29m") : String,
	black: enabled ? formatter("\x1b[30m", "\x1b[39m") : String,
	red: enabled ? formatter("\x1b[31m", "\x1b[39m") : String,
	green: enabled ? formatter("\x1b[32m", "\x1b[39m") : String,
	yellow: enabled ? formatter("\x1b[33m", "\x1b[39m") : String,
	blue: enabled ? formatter("\x1b[34m", "\x1b[39m") : String,
	magenta: enabled ? formatter("\x1b[35m", "\x1b[39m") : String,
	cyan: enabled ? formatter("\x1b[36m", "\x1b[39m") : String,
	white: enabled ? formatter("\x1b[37m", "\x1b[39m") : String,
	gray: enabled ? formatter("\x1b[90m", "\x1b[39m") : String,
	bgBlack: enabled ? formatter("\x1b[40m", "\x1b[49m") : String,
	bgRed: enabled ? formatter("\x1b[41m", "\x1b[49m") : String,
	bgGreen: enabled ? formatter("\x1b[42m", "\x1b[49m") : String,
	bgYellow: enabled ? formatter("\x1b[43m", "\x1b[49m") : String,
	bgBlue: enabled ? formatter("\x1b[44m", "\x1b[49m") : String,
	bgMagenta: enabled ? formatter("\x1b[45m", "\x1b[49m") : String,
	bgCyan: enabled ? formatter("\x1b[46m", "\x1b[49m") : String,
	bgWhite: enabled ? formatter("\x1b[47m", "\x1b[49m") : String,
});

picocolors.exports = createColors();
picocolors.exports.createColors = createColors;

var c = picocolors.exports;

function notNullish(v) {
  return v != null;
}
function slash(str) {
  return str.replace(/\\/g, "/");
}
function mergeSlashes(str) {
  return str.replace(/\/\//g, "/");
}
const noop = () => {
};
function toArray(array) {
  if (array === null || array === void 0)
    array = [];
  if (Array.isArray(array))
    return array;
  return [array];
}
const toString = (v) => Object.prototype.toString.call(v);
const isPlainObject = (val) => toString(val) === "[object Object]";
function isObject(item) {
  return item != null && typeof item === "object" && !Array.isArray(item);
}
function deepMerge(target, ...sources) {
  if (!sources.length)
    return target;
  const source = sources.shift();
  if (source === void 0)
    return target;
  if (isMergableObject(target) && isMergableObject(source)) {
    Object.keys(source).forEach((key) => {
      if (isMergableObject(source[key])) {
        if (!target[key])
          target[key] = {};
        deepMerge(target[key], source[key]);
      } else {
        target[key] = source[key];
      }
    });
  }
  return deepMerge(target, ...sources);
}
function isMergableObject(item) {
  return isPlainObject(item) && !Array.isArray(item);
}
function assertTypes(value, name, types) {
  const receivedType = typeof value;
  const pass = types.includes(receivedType);
  if (!pass)
    throw new TypeError(`${name} value must be ${types.join(" or ")}, received "${receivedType}"`);
}

function getTests(suite) {
  return toArray(suite).flatMap((s) => s.type === "test" ? [s] : s.tasks.flatMap((c) => c.type === "test" ? [c] : getTests(c)));
}
function getSuites(suite) {
  return toArray(suite).flatMap((s) => s.type === "suite" ? [s, ...getSuites(s.tasks)] : []);
}
function hasTests(suite) {
  return toArray(suite).some((s) => s.tasks.some((c) => c.type === "test" || hasTests(c)));
}
function hasFailed(suite) {
  return toArray(suite).some((s) => {
    var _a;
    return ((_a = s.result) == null ? void 0 : _a.state) === "fail" || s.type === "suite" && hasFailed(s.tasks);
  });
}
function hasFailedSnapshot(suite) {
  return getTests(suite).some((s) => {
    var _a, _b;
    const message = (_b = (_a = s.result) == null ? void 0 : _a.error) == null ? void 0 : _b.message;
    return message == null ? void 0 : message.match(/Snapshot .* mismatched/);
  });
}
function getNames(task) {
  const names = [task.name];
  let current = task;
  while ((current == null ? void 0 : current.suite) || (current == null ? void 0 : current.file)) {
    current = current.suite || current.file;
    if (current == null ? void 0 : current.name)
      names.unshift(current.name);
  }
  return names;
}

const isWindows = process.platform === "win32";
function partitionSuiteChildren(suite) {
  let tasksGroup = [];
  const tasksGroups = [];
  for (const c2 of suite.tasks) {
    if (tasksGroup.length === 0 || c2.concurrent === tasksGroup[0].concurrent) {
      tasksGroup.push(c2);
    } else {
      tasksGroups.push(tasksGroup);
      tasksGroup = [c2];
    }
  }
  if (tasksGroup.length > 0)
    tasksGroups.push(tasksGroup);
  return tasksGroups;
}
function getFullName(task) {
  return getNames(task).join(c.dim(" > "));
}
async function ensurePackageInstalled(dependency, promptInstall = !process.env.CI && process.stdout.isTTY) {
  if (isPackageExists(dependency))
    return true;
  process.stderr.write(c.red(`${c.inverse(c.red(" MISSING DEP "))} Can not find dependency '${dependency}'

`));
  if (!promptInstall)
    return false;
  const prompts = await import('./vendor-index.665a6ba4.js').then(function (n) { return n.i; });
  const { install } = await prompts.prompt({
    type: "confirm",
    name: "install",
    message: c.reset(`Do you want to install ${c.green(dependency)}?`)
  });
  if (install) {
    await (await import('./chunk-install-pkg.7ce2052a.js')).installPackage(dependency, { dev: true });
    process.stderr.write(c.yellow(`
Package ${dependency} installed, re-run the command to start.
`));
    process.exit(1);
    return true;
  }
  return false;
}
function getCallLastIndex(code) {
  let charIndex = -1;
  let inString = null;
  let startedBracers = 0;
  let endedBracers = 0;
  let beforeChar = null;
  while (charIndex <= code.length) {
    beforeChar = code[charIndex];
    charIndex++;
    const char = code[charIndex];
    const isCharString = char === '"' || char === "'" || char === "`";
    if (isCharString && beforeChar !== "\\") {
      if (inString === char)
        inString = null;
      else if (!inString)
        inString = char;
    }
    if (!inString) {
      if (char === "(")
        startedBracers++;
      if (char === ")")
        endedBracers++;
    }
    if (startedBracers && endedBracers && startedBracers === endedBracers)
      return charIndex;
  }
  return null;
}

export { assertTypes as a, notNullish as b, c, hasFailedSnapshot as d, getSuites as e, getTests as f, getFullName as g, hasFailed as h, isObject as i, deepMerge as j, getCallLastIndex as k, ensurePackageInstalled as l, isWindows as m, noop as n, mergeSlashes as o, getNames as p, partitionSuiteChildren as q, hasTests as r, slash as s, toArray as t };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2h1bmstdXRpbHMtYmFzZS4zOTc2N2YzZS5qcyIsInNvdXJjZXMiOlsiLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3BpY29jb2xvcnNAMS4wLjAvbm9kZV9tb2R1bGVzL3BpY29jb2xvcnMvcGljb2NvbG9ycy5qcyIsIi4uL3NyYy91dGlscy9iYXNlLnRzIiwiLi4vc3JjL3V0aWxzL3Rhc2tzLnRzIiwiLi4vc3JjL3V0aWxzL2luZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImxldCB0dHkgPSByZXF1aXJlKFwidHR5XCIpXG5cbmxldCBpc0NvbG9yU3VwcG9ydGVkID1cblx0IShcIk5PX0NPTE9SXCIgaW4gcHJvY2Vzcy5lbnYgfHwgcHJvY2Vzcy5hcmd2LmluY2x1ZGVzKFwiLS1uby1jb2xvclwiKSkgJiZcblx0KFwiRk9SQ0VfQ09MT1JcIiBpbiBwcm9jZXNzLmVudiB8fFxuXHRcdHByb2Nlc3MuYXJndi5pbmNsdWRlcyhcIi0tY29sb3JcIikgfHxcblx0XHRwcm9jZXNzLnBsYXRmb3JtID09PSBcIndpbjMyXCIgfHxcblx0XHQodHR5LmlzYXR0eSgxKSAmJiBwcm9jZXNzLmVudi5URVJNICE9PSBcImR1bWJcIikgfHxcblx0XHRcIkNJXCIgaW4gcHJvY2Vzcy5lbnYpXG5cbmxldCBmb3JtYXR0ZXIgPVxuXHQob3BlbiwgY2xvc2UsIHJlcGxhY2UgPSBvcGVuKSA9PlxuXHRpbnB1dCA9PiB7XG5cdFx0bGV0IHN0cmluZyA9IFwiXCIgKyBpbnB1dFxuXHRcdGxldCBpbmRleCA9IHN0cmluZy5pbmRleE9mKGNsb3NlLCBvcGVuLmxlbmd0aClcblx0XHRyZXR1cm4gfmluZGV4XG5cdFx0XHQ/IG9wZW4gKyByZXBsYWNlQ2xvc2Uoc3RyaW5nLCBjbG9zZSwgcmVwbGFjZSwgaW5kZXgpICsgY2xvc2Vcblx0XHRcdDogb3BlbiArIHN0cmluZyArIGNsb3NlXG5cdH1cblxubGV0IHJlcGxhY2VDbG9zZSA9IChzdHJpbmcsIGNsb3NlLCByZXBsYWNlLCBpbmRleCkgPT4ge1xuXHRsZXQgc3RhcnQgPSBzdHJpbmcuc3Vic3RyaW5nKDAsIGluZGV4KSArIHJlcGxhY2Vcblx0bGV0IGVuZCA9IHN0cmluZy5zdWJzdHJpbmcoaW5kZXggKyBjbG9zZS5sZW5ndGgpXG5cdGxldCBuZXh0SW5kZXggPSBlbmQuaW5kZXhPZihjbG9zZSlcblx0cmV0dXJuIH5uZXh0SW5kZXggPyBzdGFydCArIHJlcGxhY2VDbG9zZShlbmQsIGNsb3NlLCByZXBsYWNlLCBuZXh0SW5kZXgpIDogc3RhcnQgKyBlbmRcbn1cblxubGV0IGNyZWF0ZUNvbG9ycyA9IChlbmFibGVkID0gaXNDb2xvclN1cHBvcnRlZCkgPT4gKHtcblx0aXNDb2xvclN1cHBvcnRlZDogZW5hYmxlZCxcblx0cmVzZXQ6IGVuYWJsZWQgPyBzID0+IGBcXHgxYlswbSR7c31cXHgxYlswbWAgOiBTdHJpbmcsXG5cdGJvbGQ6IGVuYWJsZWQgPyBmb3JtYXR0ZXIoXCJcXHgxYlsxbVwiLCBcIlxceDFiWzIybVwiLCBcIlxceDFiWzIybVxceDFiWzFtXCIpIDogU3RyaW5nLFxuXHRkaW06IGVuYWJsZWQgPyBmb3JtYXR0ZXIoXCJcXHgxYlsybVwiLCBcIlxceDFiWzIybVwiLCBcIlxceDFiWzIybVxceDFiWzJtXCIpIDogU3RyaW5nLFxuXHRpdGFsaWM6IGVuYWJsZWQgPyBmb3JtYXR0ZXIoXCJcXHgxYlszbVwiLCBcIlxceDFiWzIzbVwiKSA6IFN0cmluZyxcblx0dW5kZXJsaW5lOiBlbmFibGVkID8gZm9ybWF0dGVyKFwiXFx4MWJbNG1cIiwgXCJcXHgxYlsyNG1cIikgOiBTdHJpbmcsXG5cdGludmVyc2U6IGVuYWJsZWQgPyBmb3JtYXR0ZXIoXCJcXHgxYls3bVwiLCBcIlxceDFiWzI3bVwiKSA6IFN0cmluZyxcblx0aGlkZGVuOiBlbmFibGVkID8gZm9ybWF0dGVyKFwiXFx4MWJbOG1cIiwgXCJcXHgxYlsyOG1cIikgOiBTdHJpbmcsXG5cdHN0cmlrZXRocm91Z2g6IGVuYWJsZWQgPyBmb3JtYXR0ZXIoXCJcXHgxYls5bVwiLCBcIlxceDFiWzI5bVwiKSA6IFN0cmluZyxcblx0YmxhY2s6IGVuYWJsZWQgPyBmb3JtYXR0ZXIoXCJcXHgxYlszMG1cIiwgXCJcXHgxYlszOW1cIikgOiBTdHJpbmcsXG5cdHJlZDogZW5hYmxlZCA/IGZvcm1hdHRlcihcIlxceDFiWzMxbVwiLCBcIlxceDFiWzM5bVwiKSA6IFN0cmluZyxcblx0Z3JlZW46IGVuYWJsZWQgPyBmb3JtYXR0ZXIoXCJcXHgxYlszMm1cIiwgXCJcXHgxYlszOW1cIikgOiBTdHJpbmcsXG5cdHllbGxvdzogZW5hYmxlZCA/IGZvcm1hdHRlcihcIlxceDFiWzMzbVwiLCBcIlxceDFiWzM5bVwiKSA6IFN0cmluZyxcblx0Ymx1ZTogZW5hYmxlZCA/IGZvcm1hdHRlcihcIlxceDFiWzM0bVwiLCBcIlxceDFiWzM5bVwiKSA6IFN0cmluZyxcblx0bWFnZW50YTogZW5hYmxlZCA/IGZvcm1hdHRlcihcIlxceDFiWzM1bVwiLCBcIlxceDFiWzM5bVwiKSA6IFN0cmluZyxcblx0Y3lhbjogZW5hYmxlZCA/IGZvcm1hdHRlcihcIlxceDFiWzM2bVwiLCBcIlxceDFiWzM5bVwiKSA6IFN0cmluZyxcblx0d2hpdGU6IGVuYWJsZWQgPyBmb3JtYXR0ZXIoXCJcXHgxYlszN21cIiwgXCJcXHgxYlszOW1cIikgOiBTdHJpbmcsXG5cdGdyYXk6IGVuYWJsZWQgPyBmb3JtYXR0ZXIoXCJcXHgxYls5MG1cIiwgXCJcXHgxYlszOW1cIikgOiBTdHJpbmcsXG5cdGJnQmxhY2s6IGVuYWJsZWQgPyBmb3JtYXR0ZXIoXCJcXHgxYls0MG1cIiwgXCJcXHgxYls0OW1cIikgOiBTdHJpbmcsXG5cdGJnUmVkOiBlbmFibGVkID8gZm9ybWF0dGVyKFwiXFx4MWJbNDFtXCIsIFwiXFx4MWJbNDltXCIpIDogU3RyaW5nLFxuXHRiZ0dyZWVuOiBlbmFibGVkID8gZm9ybWF0dGVyKFwiXFx4MWJbNDJtXCIsIFwiXFx4MWJbNDltXCIpIDogU3RyaW5nLFxuXHRiZ1llbGxvdzogZW5hYmxlZCA/IGZvcm1hdHRlcihcIlxceDFiWzQzbVwiLCBcIlxceDFiWzQ5bVwiKSA6IFN0cmluZyxcblx0YmdCbHVlOiBlbmFibGVkID8gZm9ybWF0dGVyKFwiXFx4MWJbNDRtXCIsIFwiXFx4MWJbNDltXCIpIDogU3RyaW5nLFxuXHRiZ01hZ2VudGE6IGVuYWJsZWQgPyBmb3JtYXR0ZXIoXCJcXHgxYls0NW1cIiwgXCJcXHgxYls0OW1cIikgOiBTdHJpbmcsXG5cdGJnQ3lhbjogZW5hYmxlZCA/IGZvcm1hdHRlcihcIlxceDFiWzQ2bVwiLCBcIlxceDFiWzQ5bVwiKSA6IFN0cmluZyxcblx0YmdXaGl0ZTogZW5hYmxlZCA/IGZvcm1hdHRlcihcIlxceDFiWzQ3bVwiLCBcIlxceDFiWzQ5bVwiKSA6IFN0cmluZyxcbn0pXG5cbm1vZHVsZS5leHBvcnRzID0gY3JlYXRlQ29sb3JzKClcbm1vZHVsZS5leHBvcnRzLmNyZWF0ZUNvbG9ycyA9IGNyZWF0ZUNvbG9yc1xuIiwiaW1wb3J0IHR5cGUgeyBBcnJheWFibGUsIERlZXBNZXJnZSwgTnVsbGFibGUgfSBmcm9tICcuLi90eXBlcydcblxuZXhwb3J0IGZ1bmN0aW9uIG5vdE51bGxpc2g8VD4odjogVCB8IG51bGwgfCB1bmRlZmluZWQpOiB2IGlzIE5vbk51bGxhYmxlPFQ+IHtcbiAgcmV0dXJuIHYgIT0gbnVsbFxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2xhc2goc3RyOiBzdHJpbmcpIHtcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKC9cXFxcL2csICcvJylcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlU2xhc2hlcyhzdHI6IHN0cmluZykge1xuICByZXR1cm4gc3RyLnJlcGxhY2UoL1xcL1xcLy9nLCAnLycpXG59XG5cbmV4cG9ydCBjb25zdCBub29wID0gKCkgPT4geyB9XG5cbmV4cG9ydCBmdW5jdGlvbiBjbG9uZTxUPih2YWw6IFQpOiBUIHtcbiAgbGV0IGs6IGFueSwgb3V0OiBhbnksIHRtcDogYW55XG5cbiAgaWYgKEFycmF5LmlzQXJyYXkodmFsKSkge1xuICAgIG91dCA9IEFycmF5KGsgPSB2YWwubGVuZ3RoKVxuICAgIHdoaWxlIChrLS0pXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uZC1hc3NpZ25cbiAgICAgIG91dFtrXSA9ICh0bXAgPSB2YWxba10pICYmIHR5cGVvZiB0bXAgPT09ICdvYmplY3QnID8gY2xvbmUodG1wKSA6IHRtcFxuICAgIHJldHVybiBvdXQgYXMgYW55XG4gIH1cblxuICBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbCkgPT09ICdbb2JqZWN0IE9iamVjdF0nKSB7XG4gICAgb3V0ID0ge30gLy8gbnVsbFxuICAgIGZvciAoayBpbiB2YWwpIHtcbiAgICAgIGlmIChrID09PSAnX19wcm90b19fJykge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob3V0LCBrLCB7XG4gICAgICAgICAgdmFsdWU6IGNsb25lKCh2YWwgYXMgYW55KVtrXSksXG4gICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbmQtYXNzaWduXG4gICAgICAgIG91dFtrXSA9ICh0bXAgPSAodmFsIGFzIGFueSlba10pICYmIHR5cGVvZiB0bXAgPT09ICdvYmplY3QnID8gY2xvbmUodG1wKSA6IHRtcFxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gb3V0XG4gIH1cblxuICByZXR1cm4gdmFsXG59XG4vKipcbiAqIENvbnZlcnQgYEFycmF5YWJsZTxUPmAgdG8gYEFycmF5PFQ+YFxuICpcbiAqIEBjYXRlZ29yeSBBcnJheVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiB0b0FycmF5PFQ+KGFycmF5PzogTnVsbGFibGU8QXJyYXlhYmxlPFQ+Pik6IEFycmF5PFQ+IHtcbiAgaWYgKGFycmF5ID09PSBudWxsIHx8IGFycmF5ID09PSB1bmRlZmluZWQpXG4gICAgYXJyYXkgPSBbXVxuXG4gIGlmIChBcnJheS5pc0FycmF5KGFycmF5KSlcbiAgICByZXR1cm4gYXJyYXlcblxuICByZXR1cm4gW2FycmF5XVxufVxuXG5leHBvcnQgY29uc3QgdG9TdHJpbmcgPSAodjogYW55KSA9PiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodilcbmV4cG9ydCBjb25zdCBpc1BsYWluT2JqZWN0ID0gKHZhbDogYW55KTogdmFsIGlzIG9iamVjdCA9PiB0b1N0cmluZyh2YWwpID09PSAnW29iamVjdCBPYmplY3RdJ1xuXG5leHBvcnQgZnVuY3Rpb24gaXNPYmplY3QoaXRlbTogdW5rbm93bik6IGJvb2xlYW4ge1xuICByZXR1cm4gaXRlbSAhPSBudWxsICYmIHR5cGVvZiBpdGVtID09PSAnb2JqZWN0JyAmJiAhQXJyYXkuaXNBcnJheShpdGVtKVxufVxuXG4vKipcbiAqIERlZXAgbWVyZ2UgOlBcbiAqXG4gKiBXaWxsIG1lcmdlIG9iamVjdHMgb25seSBpZiB0aGV5IGFyZSBwbGFpblxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVlcE1lcmdlPFQgZXh0ZW5kcyBvYmplY3QgPSBvYmplY3QsIFMgZXh0ZW5kcyBvYmplY3QgPSBUPih0YXJnZXQ6IFQsIC4uLnNvdXJjZXM6IFNbXSk6IERlZXBNZXJnZTxULCBTPiB7XG4gIGlmICghc291cmNlcy5sZW5ndGgpXG4gICAgcmV0dXJuIHRhcmdldCBhcyBhbnlcblxuICBjb25zdCBzb3VyY2UgPSBzb3VyY2VzLnNoaWZ0KClcbiAgaWYgKHNvdXJjZSA9PT0gdW5kZWZpbmVkKVxuICAgIHJldHVybiB0YXJnZXQgYXMgYW55XG5cbiAgaWYgKGlzTWVyZ2FibGVPYmplY3QodGFyZ2V0KSAmJiBpc01lcmdhYmxlT2JqZWN0KHNvdXJjZSkpIHtcbiAgICAoT2JqZWN0LmtleXMoc291cmNlKSBhcyAoa2V5b2YgUyAmIGtleW9mIFQpW10pLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgaWYgKGlzTWVyZ2FibGVPYmplY3Qoc291cmNlW2tleV0pKSB7XG4gICAgICAgIGlmICghdGFyZ2V0W2tleV0pXG4gICAgICAgICAgdGFyZ2V0W2tleV0gPSB7fSBhcyBhbnlcblxuICAgICAgICBkZWVwTWVyZ2UodGFyZ2V0W2tleV0gYXMgYW55LCBzb3VyY2Vba2V5XSBhcyBhbnkpXG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XSBhcyBhbnlcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgcmV0dXJuIGRlZXBNZXJnZSh0YXJnZXQsIC4uLnNvdXJjZXMpXG59XG5cbmZ1bmN0aW9uIGlzTWVyZ2FibGVPYmplY3QoaXRlbTogYW55KTogaXRlbSBpcyBPYmplY3Qge1xuICByZXR1cm4gaXNQbGFpbk9iamVjdChpdGVtKSAmJiAhQXJyYXkuaXNBcnJheShpdGVtKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0VHlwZXModmFsdWU6IHVua25vd24sIG5hbWU6IHN0cmluZywgdHlwZXM6IHN0cmluZ1tdKTogdm9pZCB7XG4gIGNvbnN0IHJlY2VpdmVkVHlwZSA9IHR5cGVvZiB2YWx1ZVxuICBjb25zdCBwYXNzID0gdHlwZXMuaW5jbHVkZXMocmVjZWl2ZWRUeXBlKVxuICBpZiAoIXBhc3MpIHRocm93IG5ldyBUeXBlRXJyb3IoYCR7bmFtZX0gdmFsdWUgbXVzdCBiZSAke3R5cGVzLmpvaW4oJyBvciAnKX0sIHJlY2VpdmVkIFwiJHtyZWNlaXZlZFR5cGV9XCJgKVxufVxuIiwiaW1wb3J0IHR5cGUgeyBBcnJheWFibGUsIFN1aXRlLCBUYXNrLCBUZXN0IH0gZnJvbSAnLi4vdHlwZXMnXG5pbXBvcnQgeyB0b0FycmF5IH0gZnJvbSAnLi9iYXNlJ1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0VGVzdHMoc3VpdGU6IEFycmF5YWJsZTxUYXNrPik6IFRlc3RbXSB7XG4gIHJldHVybiB0b0FycmF5KHN1aXRlKS5mbGF0TWFwKHMgPT4gcy50eXBlID09PSAndGVzdCcgPyBbc10gOiBzLnRhc2tzLmZsYXRNYXAoYyA9PiBjLnR5cGUgPT09ICd0ZXN0JyA/IFtjXSA6IGdldFRlc3RzKGMpKSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFRhc2tzKHRhc2tzOiBBcnJheWFibGU8VGFzaz4gPSBbXSk6IFRhc2tbXSB7XG4gIHJldHVybiB0b0FycmF5KHRhc2tzKS5mbGF0TWFwKHMgPT4gcy50eXBlID09PSAndGVzdCcgPyBbc10gOiBbcywgLi4uZ2V0VGFza3Mocy50YXNrcyldKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0U3VpdGVzKHN1aXRlOiBBcnJheWFibGU8VGFzaz4pOiBTdWl0ZVtdIHtcbiAgcmV0dXJuIHRvQXJyYXkoc3VpdGUpLmZsYXRNYXAocyA9PiBzLnR5cGUgPT09ICdzdWl0ZScgPyBbcywgLi4uZ2V0U3VpdGVzKHMudGFza3MpXSA6IFtdKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaGFzVGVzdHMoc3VpdGU6IEFycmF5YWJsZTxTdWl0ZT4pOiBib29sZWFuIHtcbiAgcmV0dXJuIHRvQXJyYXkoc3VpdGUpLnNvbWUocyA9PiBzLnRhc2tzLnNvbWUoYyA9PiBjLnR5cGUgPT09ICd0ZXN0JyB8fCBoYXNUZXN0cyhjIGFzIFN1aXRlKSkpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoYXNGYWlsZWQoc3VpdGU6IEFycmF5YWJsZTxUYXNrPik6IGJvb2xlYW4ge1xuICByZXR1cm4gdG9BcnJheShzdWl0ZSkuc29tZShzID0+IHMucmVzdWx0Py5zdGF0ZSA9PT0gJ2ZhaWwnIHx8IChzLnR5cGUgPT09ICdzdWl0ZScgJiYgaGFzRmFpbGVkKHMudGFza3MpKSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGhhc0ZhaWxlZFNuYXBzaG90KHN1aXRlOiBBcnJheWFibGU8VGFzaz4pOiBib29sZWFuIHtcbiAgcmV0dXJuIGdldFRlc3RzKHN1aXRlKS5zb21lKChzKSA9PiB7XG4gICAgY29uc3QgbWVzc2FnZSA9IHMucmVzdWx0Py5lcnJvcj8ubWVzc2FnZVxuICAgIHJldHVybiBtZXNzYWdlPy5tYXRjaCgvU25hcHNob3QgLiogbWlzbWF0Y2hlZC8pXG4gIH0pXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXROYW1lcyh0YXNrOiBUYXNrKSB7XG4gIGNvbnN0IG5hbWVzID0gW3Rhc2submFtZV1cbiAgbGV0IGN1cnJlbnQ6IFRhc2sgfCB1bmRlZmluZWQgPSB0YXNrXG5cbiAgd2hpbGUgKGN1cnJlbnQ/LnN1aXRlIHx8IGN1cnJlbnQ/LmZpbGUpIHtcbiAgICBjdXJyZW50ID0gY3VycmVudC5zdWl0ZSB8fCBjdXJyZW50LmZpbGVcbiAgICBpZiAoY3VycmVudD8ubmFtZSlcbiAgICAgIG5hbWVzLnVuc2hpZnQoY3VycmVudC5uYW1lKVxuICB9XG5cbiAgcmV0dXJuIG5hbWVzXG59XG4iLCJpbXBvcnQgYyBmcm9tICdwaWNvY29sb3JzJ1xuaW1wb3J0IHsgaXNQYWNrYWdlRXhpc3RzIH0gZnJvbSAnbG9jYWwtcGtnJ1xuaW1wb3J0IHsgcmVzb2x2ZSB9IGZyb20gJ3BhdGhlJ1xuaW1wb3J0IHR5cGUgeyBTdWl0ZSwgVGFzayB9IGZyb20gJy4uL3R5cGVzJ1xuaW1wb3J0IHsgZ2V0TmFtZXMgfSBmcm9tICcuL3Rhc2tzJ1xuXG5leHBvcnQgKiBmcm9tICcuL3Rhc2tzJ1xuZXhwb3J0ICogZnJvbSAnLi9wYXRoJ1xuZXhwb3J0ICogZnJvbSAnLi9iYXNlJ1xuXG5leHBvcnQgY29uc3QgaXNXaW5kb3dzID0gcHJvY2Vzcy5wbGF0Zm9ybSA9PT0gJ3dpbjMyJ1xuXG4vKipcbiAqIFBhcnRpdGlvbiBpbiB0YXNrcyBncm91cHMgYnkgY29uc2VjdXRpdmUgY29uY3VycmVudFxuICovXG5leHBvcnQgZnVuY3Rpb24gcGFydGl0aW9uU3VpdGVDaGlsZHJlbihzdWl0ZTogU3VpdGUpIHtcbiAgbGV0IHRhc2tzR3JvdXA6IFRhc2tbXSA9IFtdXG4gIGNvbnN0IHRhc2tzR3JvdXBzOiBUYXNrW11bXSA9IFtdXG4gIGZvciAoY29uc3QgYyBvZiBzdWl0ZS50YXNrcykge1xuICAgIGlmICh0YXNrc0dyb3VwLmxlbmd0aCA9PT0gMCB8fCBjLmNvbmN1cnJlbnQgPT09IHRhc2tzR3JvdXBbMF0uY29uY3VycmVudCkge1xuICAgICAgdGFza3NHcm91cC5wdXNoKGMpXG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGFza3NHcm91cHMucHVzaCh0YXNrc0dyb3VwKVxuICAgICAgdGFza3NHcm91cCA9IFtjXVxuICAgIH1cbiAgfVxuICBpZiAodGFza3NHcm91cC5sZW5ndGggPiAwKVxuICAgIHRhc2tzR3JvdXBzLnB1c2godGFza3NHcm91cClcblxuICByZXR1cm4gdGFza3NHcm91cHNcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEZ1bGxOYW1lKHRhc2s6IFRhc2spIHtcbiAgcmV0dXJuIGdldE5hbWVzKHRhc2spLmpvaW4oYy5kaW0oJyA+ICcpKVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZW5zdXJlUGFja2FnZUluc3RhbGxlZChcbiAgZGVwZW5kZW5jeTogc3RyaW5nLFxuICBwcm9tcHRJbnN0YWxsID0gIXByb2Nlc3MuZW52LkNJICYmIHByb2Nlc3Muc3Rkb3V0LmlzVFRZLFxuKSB7XG4gIGlmIChpc1BhY2thZ2VFeGlzdHMoZGVwZW5kZW5jeSkpXG4gICAgcmV0dXJuIHRydWVcblxuICBwcm9jZXNzLnN0ZGVyci53cml0ZShjLnJlZChgJHtjLmludmVyc2UoYy5yZWQoJyBNSVNTSU5HIERFUCAnKSl9IENhbiBub3QgZmluZCBkZXBlbmRlbmN5ICcke2RlcGVuZGVuY3l9J1xcblxcbmApKVxuXG4gIGlmICghcHJvbXB0SW5zdGFsbClcbiAgICByZXR1cm4gZmFsc2VcblxuICBjb25zdCBwcm9tcHRzID0gYXdhaXQgaW1wb3J0KCdwcm9tcHRzJylcbiAgY29uc3QgeyBpbnN0YWxsIH0gPSBhd2FpdCBwcm9tcHRzLnByb21wdCh7XG4gICAgdHlwZTogJ2NvbmZpcm0nLFxuICAgIG5hbWU6ICdpbnN0YWxsJyxcbiAgICBtZXNzYWdlOiBjLnJlc2V0KGBEbyB5b3Ugd2FudCB0byBpbnN0YWxsICR7Yy5ncmVlbihkZXBlbmRlbmN5KX0/YCksXG4gIH0pXG5cbiAgaWYgKGluc3RhbGwpIHtcbiAgICBhd2FpdCAoYXdhaXQgaW1wb3J0KCdAYW50ZnUvaW5zdGFsbC1wa2cnKSkuaW5zdGFsbFBhY2thZ2UoZGVwZW5kZW5jeSwgeyBkZXY6IHRydWUgfSlcbiAgICAvLyBUT0RPOiBzb21laG93IGl0IGZhaWxzIHRvIGxvYWQgdGhlIHBhY2thZ2UgYWZ0ZXIgaW5zdGFsbGF0aW9uLCByZW1vdmUgdGhpcyB3aGVuIGl0J3MgZml4ZWRcbiAgICBwcm9jZXNzLnN0ZGVyci53cml0ZShjLnllbGxvdyhgXFxuUGFja2FnZSAke2RlcGVuZGVuY3l9IGluc3RhbGxlZCwgcmUtcnVuIHRoZSBjb21tYW5kIHRvIHN0YXJ0LlxcbmApKVxuICAgIHByb2Nlc3MuZXhpdCgxKVxuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICByZXR1cm4gZmFsc2Vcbn1cblxuLyoqXG4gKiBJZiBjb2RlIHN0YXJ0cyB3aXRoIGEgZnVuY3Rpb24gY2FsbCwgd2lsbCByZXR1cm4gaXRzIGxhc3QgaW5kZXgsIHJlc3BlY3RpbmcgYXJndW1lbnRzLlxuICogVGhpcyB3aWxsIHJldHVybiAyNSAtIGxhc3QgZW5kaW5nIGNoYXJhY3RlciBvZiB0b01hdGNoIFwiKVwiXG4gKiBBbHNvIHdvcmtzIHdpdGggY2FsbGJhY2tzXG4gKiBgYGBcbiAqIHRvTWF0Y2goeyB0ZXN0OiAnMTIzJyB9KTtcbiAqIHRvQmVBbGlhc2VkKCcxMjMnKVxuICogYGBgXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRDYWxsTGFzdEluZGV4KGNvZGU6IHN0cmluZykge1xuICBsZXQgY2hhckluZGV4ID0gLTFcbiAgbGV0IGluU3RyaW5nOiBzdHJpbmcgfCBudWxsID0gbnVsbFxuICBsZXQgc3RhcnRlZEJyYWNlcnMgPSAwXG4gIGxldCBlbmRlZEJyYWNlcnMgPSAwXG4gIGxldCBiZWZvcmVDaGFyOiBzdHJpbmcgfCBudWxsID0gbnVsbFxuICB3aGlsZSAoY2hhckluZGV4IDw9IGNvZGUubGVuZ3RoKSB7XG4gICAgYmVmb3JlQ2hhciA9IGNvZGVbY2hhckluZGV4XVxuICAgIGNoYXJJbmRleCsrXG4gICAgY29uc3QgY2hhciA9IGNvZGVbY2hhckluZGV4XVxuXG4gICAgY29uc3QgaXNDaGFyU3RyaW5nID0gY2hhciA9PT0gJ1wiJyB8fCBjaGFyID09PSAnXFwnJyB8fCBjaGFyID09PSAnYCdcblxuICAgIGlmIChpc0NoYXJTdHJpbmcgJiYgYmVmb3JlQ2hhciAhPT0gJ1xcXFwnKSB7XG4gICAgICBpZiAoaW5TdHJpbmcgPT09IGNoYXIpXG4gICAgICAgIGluU3RyaW5nID0gbnVsbFxuICAgICAgZWxzZSBpZiAoIWluU3RyaW5nKVxuICAgICAgICBpblN0cmluZyA9IGNoYXJcbiAgICB9XG5cbiAgICBpZiAoIWluU3RyaW5nKSB7XG4gICAgICBpZiAoY2hhciA9PT0gJygnKVxuICAgICAgICBzdGFydGVkQnJhY2VycysrXG4gICAgICBpZiAoY2hhciA9PT0gJyknKVxuICAgICAgICBlbmRlZEJyYWNlcnMrK1xuICAgIH1cblxuICAgIGlmIChzdGFydGVkQnJhY2VycyAmJiBlbmRlZEJyYWNlcnMgJiYgc3RhcnRlZEJyYWNlcnMgPT09IGVuZGVkQnJhY2VycylcbiAgICAgIHJldHVybiBjaGFySW5kZXhcbiAgfVxuICByZXR1cm4gbnVsbFxufVxuXG5leHBvcnQgeyByZXNvbHZlIGFzIHJlc29sdmVQYXRoIH1cbiJdLCJuYW1lcyI6WyJwaWNvY29sb3JzTW9kdWxlIl0sIm1hcHBpbmdzIjoiOzs7OztBQUFBLElBQUksR0FBRyxHQUFHLFdBQWM7QUFDeEI7QUFDQSxJQUFJLGdCQUFnQjtBQUNwQixDQUFDLEVBQUUsVUFBVSxJQUFJLE9BQU8sQ0FBQyxHQUFHLElBQUksT0FBTyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsWUFBWSxDQUFDLENBQUM7QUFDcEUsRUFBRSxhQUFhLElBQUksT0FBTyxDQUFDLEdBQUc7QUFDOUIsRUFBRSxPQUFP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S0FBSyxFQUFFLE9BQU8sR0FBRyxTQUFTLENBQUMsVUFBVSxFQUFFLFVBQVUsQ0FBQyxHQUFHLE1BQU07QUFDNUQsQ0FBQyxNQUFNLEVBQUUsT0FBTyxHQUFHLFNBQVMsQ0FBQyxVQUFVLEVBQUUsVUFBVSxDQUFDLEdBQUcsTUFBTTtBQUM3RCxDQUFDLElBQUksRUFBRSxPQUFPLEdBQUcsU0FBUyxDQUFDLFVBQVUsRUFBRSxVQUFVLENBQUMsR0FBRyxNQUFNO0FBQzNELENBQUMsT0FBTyxFQUFFLE9BQU8sR0FBRyxTQUFTLENBQUMsVUFBVSxFQUFFLFVBQVUsQ0FBQyxHQUFHLE1BQU07QUFDOUQsQ0FBQyxJQUFJLEVBQUUsT0FBTyxHQUFHLFNBQVMsQ0FBQyxVQUFVLEVBQUUsVUFBVSxDQUFDLEdBQUcsTUFBTTtBQUMzRCxDQUFDLEtBQUssRUFBRSxPQUFPLEdBQUcsU0FBUyxDQUFDLFVBQVUsRUFBRSxVQUFVLENBQUMsR0FBRyxNQUFNO0FBQzVELENBQUMsSUFBSSxFQUFFLE9BQU8sR0FBRyxTQUFTLENBQUMsVUFBVSxFQUFFLFVBQVUsQ0FBQyxHQUFHLE1BQU07QUFDM0QsQ0FBQyxPQUFPLEVBQUUsT0FBTyxHQUFHLFNBQVMsQ0FBQyxVQUFVLEVBQUUsVUFBVSxDQUFDLEdBQUcsTUFBTTtBQUM5RCxDQUFDLEtBQUssRUFBRSxPQUFPLEdBQUcsU0FBUyxDQUFDLFVBQVUsRUFBRSxVQUFVLENBQUMsR0FBRyxNQUFNO0FBQzVELENBQUMsT0FBTyxFQUFFLE9BQU8sR0FBRyxTQUFTLENBQUMsVUFBVSxFQUFFLFVBQVUsQ0FBQyxHQUFHLE1BQU07QUFDOUQsQ0FBQyxRQUFRLEVBQUUsT0FBTyxHQUFHLFNBQVMsQ0FBQyxVQUFVLEVBQUUsVUFBVSxDQUFDLEdBQUcsTUFBTTtBQUMvRCxDQUFDLE1BQU0sRUFBRSxPQUFPLEdBQUcsU0FBUyxDQUFDLFVBQVUsRUFBRSxVQUFVLENBQUMsR0FBRyxNQUFNO0FBQzdELENBQUMsU0FBUyxFQUFFLE9BQU8sR0FBRyxTQUFTLENBQUMsVUFBVSxFQUFFLFVBQVUsQ0FB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
